(()=>{const t=document.querySelector(".app__tasks"),e=document.querySelector(".app__form"),s=document.getElementById("ipt"),c=document.getElementById("btn"),n=document.querySelector(".app__buttons--all"),o=document.querySelector(".app__buttons--active"),l=document.querySelector(".app__buttons--completed");o.classList.remove("app__buttons--active"),l.classList.remove("app__buttons--completed");let i=[],a=0;class d{constructor(t,e){this.id=t,this.text=e,this.completed=!1}}function u(e){const s=document.createElement("p"),c=document.createElement("input");if(t.appendChild(s),c.setAttribute("type","checkbox"),c.setAttribute("id",e.id),s.appendChild(c),c.after(" "+e.text),!0===e.completed){s.style.textDecoration="line-through",c.checked=!0;const t=document.createElement("button");t.setAttribute("class","delButton"),t.setAttribute("id",e.id),t.setAttribute("type","submit"),s.appendChild(t)}}function r(e){t.querySelectorAll("*").forEach((t=>t.remove())),i.filter((t=>t.completed===e)).forEach((t=>{u(t)}))}function p(){let t=document.querySelectorAll("input[type=checkbox]"),e=t.length;for(;e--;)t[e].addEventListener("click",(function(){let t=this.getAttribute("id"),e=i[t];e.id===parseInt(t)&&!0===this.checked?(e.completed=!0,this.parentNode.style.textDecoration="line-through"):this.checked=!0}))}function m(t){function s(t){let e=document.getElementsByClassName("delButton"),s=e.length;if(s>0)for(let c=0;c<s;c++)e[c].style.display=t}p(),0===t?(s("none"),n.classList.add("app__buttons--all"),o.classList.remove("app__buttons--active"),l.classList.remove("app__buttons--completed"),e.style.display="unset"):1===t?(n.classList.remove("app__buttons--all"),l.classList.remove("app__buttons--completed"),o.classList.add("app__buttons--active"),e.style.display="unset"):2===t&&(e.style.display="none",n.classList.remove("app__buttons--all"),l.classList.add("app__buttons--completed"),o.classList.remove("app__buttons--active"),s("unset"),function(){let t=document.querySelectorAll("button[type=submit]"),e=t.length;for(;e--;)t[e].addEventListener("click",(function(){let t=this.getAttribute("id"),e=this.parentNode;delete i[t],e.remove()}))}())}c.addEventListener("click",(()=>{let t=new d(a,s.value);u(t),p(),i.push(t),a++,s.value=""})),n.addEventListener("click",(()=>{t.querySelectorAll("*").forEach((t=>t.remove())),i.forEach((t=>u(t))),m(0)})),o.addEventListener("click",(()=>{r(!1),m(1)})),l.addEventListener("click",(()=>{r(!0),m(2)}))})();